extends base.jade

block css 
    style.
        .evimage {
          width:100%;
        }
        .camimage {
          width:100%;
        }

block content
    .container-fluid
        .col-md-4
            img.camimage(src=cam.streamurl())
            input-group
                input.cam_setup(cam_id=cam.id, type='checkbox') Setup Mode
        .col-md-8
            .container-fluid
                for l in cam.last_events
                    .col-md-3
                        img.evimage(src="{% url 'motioncontrol.views.event_pic' l.id  %}")


block js 
    script.
        $(function(){
            $(".cam_setup").on('click',function(e){
                var cam_id = parseInt(e.currentTarget.getAttribute('cam_id'));
                var val = e.currentTarget.checked;
                $.post("{% url 'motioncontrol.views.api'%}",{'cam_id':cam_id,'cmd':'setup_mode','val':val},function(data){
                    console.log(data);
                    });
                });
            });
